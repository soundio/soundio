
<meta charset="utf-8" />
<title>Tests</title>

<link rel="stylesheet" href="./tests/tests.css" />

<!-- These elements are picked up by Selenium in Github Actions -->
<pre class="console-pre" id="console"></pre>
<pre class="result-pre" id="result" hidden></pre>

<p>Click somewhere to launch the WebAudio clock: some tests – see them in the console – depend on it.</p>

<soundstage-player src="./test/soundstage-test.json"></soundstage-player>

<script>
    window.DEBUG = true;
</script>

<script type="module">
    import { pass, fail } from './tests/tests.js';
    import { done }       from '../fn/modules/test.js';

    // Import test files here
    //import './tests/example-test.js';

    // Dependences
//    import '../fn/modules/test/stream-test.js';
//    import '../fn/modules/test/observe-test.js';
//    import '../dom/modules/test/events-test.js';

    // Modules
    //import './modules/test/event-test.js';
    //import './modules/test/location-test.js';
    //import './modules/test/meter-test.js';
    //import './modules/test/transport-test.js';
    //import './modules/test/frame-stream-test.js';
    //import './modules/test/sequence-test.js';
    //import './modules/test/sequencer-test.js';

    // Nodes
    //import './nodes/test/graph-test.js';
    //import './nodes/test/sample-test.js';
    //import './nodes/test/signal-test.js';
    //import './nodes/test/tick-test.js';
    //import './nodes/test/tone-test.js';
    //import './nodes/test/voice-test.js';
    import './nodes/test/instrument-test.js';

    // Soundstage
    //import './test/soundstage-test.js';

    //import SoundstagePlayer from './player/module.js';

    // Report results
    done((totals) => (totals.fail > 0 ? fail() : pass()));
    window.onerror = fail;
</script>
